title: "js中的正则表达式"
date: 2015-06-10 22:13:15
categories: js
tags: [Regexp]
---

###正则表达式

`代码摘自javascript语言精粹`
```
var parse_url = /^(?:([A-Za-z]+):)?(\/{0,3})([0-9.\-A-Za-z]+)(?::(\d+))?(?:\/([^?#]*))?(?:\?([^#]*))?(?:#(.*))?$/;
            var url = 'http://www.ora.com:80/goodparts?q#fragment';
            var result = parse_url.exec(url);
            var names = ['url', 'scheme', 'slash', 'host', 'port', 'path', 'query', 'hash'];
            var blanks = '      ';
            var i ;
            for (i = 0; i < names.length; i++) {
                document.writeln(names[i] + ':' +blanks.substring(names[i].length), result[i])
            }
```
####正则中的分组
- 捕获型
(   ....     )
被包围在圆括号中的正则表达式分支，任何匹配这个分组的字符都会被捕获并**指定一个数字，序号从1开始。**
- 非捕获型
(?:    .....   )有一个`?:`的前缀。仅作简单的匹配，并不会捕获所匹配的文本。

在上例中的`parse_url`中，有如下分组
- `(?:([A-Za-z]+):)?`
?:代表非捕获，即不会存到`parse_url.exec`的数组中，但中间有个捕获组（A-Za-z），会进入数组，`+`代表多个字母，大括号外的`?`代表这个非捕获组存在0个或1个。
- `(\/{0,3})`
/是保留符，需要转义，{0, 3}代表量词，表示/只能不存在或者/或者//或者///
- `([0-9.\-A-Za-z]+)`
在[    .....   ]字符选择中，-需要转义，`.+?`可以可以不需要转义
- `(?::(\d+))?`
- `(?:\/([^?#]*))?`
在 [..]里的^表示反义词，除.....之外
- `(?:\?([^#]*))?`
- `(?:#(.*))?`
这里的`.`代表除了结束符之外的所有值。


####正则的基础知识
/\d/  >>选择第一个数字
/\d/g  >>选择范围内的所有（以单个数字存在）数字
/\d\d/g  >>选择范围内的所有（以两个数字存在）数字
/\d+/g   >>选择范围内的所有（以不同数量存在）数字
/我|你/g     >>选择范围内的所有我或你的文字。
[]    >>字符类
/1[abc]2/   >>中括号里的是或，1b2或1a2或1c2
/[^a]/    >>除了a之外
/[^a-z0-9]/  >>除了字母数字

/.+/   >> 所有
/\w/  >>字母数字下划线
/\s/   >>空白

｛n, m｝量词
 \+  >>{1, mult}
\*  >>{0, mult}
?  >>{0, 1}

/^\$/  >>行首行尾，代表字符串中仅能出现^$之间的表达式的内容，区别于字符类的^

/[\u4e00-\u9fa5]/  >>中文

**通常在正则表达式中，下列11字符是需要转义的。**
[ ] \ ^ $ . | ? * + ( )

原创文章，欢迎批评！
